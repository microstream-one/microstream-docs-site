<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (14.0.2) on Thu Jul 22 10:43:03 CEST 2021 -->
<title>Threaded (MicroStream API 5.0)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2021-07-22">
<meta name="description" content="declaration: package: one.microstream.concurrency, class: Threaded">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../javadoc-stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../script-dir/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../script-dir/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../script-dir/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../script-dir/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../script-dir/jquery-3.4.1.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-ui.js"></script>
</head>
<body class="class-declaration">
<script type="text/javascript">var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":9,"i8":9,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flexBox">
<header role="banner" class="flexHeader">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Threaded.html">Use</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<div class="navListSearch"><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="skipNav"><a id="skip.navbar.top">
<!--   -->
</a></div>
</nav>
</header>
<div class="flexContent">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">one.microstream.concurrency</a></div>
<h1 title="Class Threaded" class="title">Class Threaded&lt;E&gt;</h1>
</div>
<div class="contentContainer">
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">java.lang.Object</a>
<div class="inheritance">one.microstream.concurrency.Threaded&lt;E&gt;</div>
</div>
<section class="description">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="../collections/interfaces/ConsolidatableCollection.html" title="interface in one.microstream.collections.interfaces">ConsolidatableCollection</a></code>, <code><a href="../collections/interfaces/OptimizableCollection.html" title="interface in one.microstream.collections.interfaces">OptimizableCollection</a></code>, <code><a href="../collections/interfaces/Sized.html" title="interface in one.microstream.collections.interfaces">Sized</a></code>, <code><a href="../reference/Referencing.html" title="interface in one.microstream.reference">Referencing</a>&lt;E&gt;</code></dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><code><a href="ThreadedInstantiating.html" title="class in one.microstream.concurrency">ThreadedInstantiating</a></code></dd>
</dl>
<hr>
<pre>public class <span class="typeNameLabel">Threaded&lt;E&gt;</span>
extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>
implements <a href="../collections/interfaces/ConsolidatableCollection.html" title="interface in one.microstream.collections.interfaces">ConsolidatableCollection</a>, <a href="../collections/interfaces/OptimizableCollection.html" title="interface in one.microstream.collections.interfaces">OptimizableCollection</a>, <a href="../reference/Referencing.html" title="interface in one.microstream.reference">Referencing</a>&lt;E&gt;</pre>
<div class="block"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true" title="class or interface in java.lang" class="externalLink"><code>Thread</code></a> local context class that maintains Thread-to-instance associations.
 <p>
 This means that instances of this class can be used to make instances of type E effectively thread local and thus
 instances of this class can be seen as a kind of "wrapper" for fields that makes them thread local as if it would
 be a language feature.

 <p>
 <b><u>Example</u></b>:
 <pre><code>
public class SomeClass
{
    private final Threaded&lt;StringBuilder&gt; sb = new Threaded&lt;StringBuilder&gt;();

    // ...

    private void initialize() // initialize for current thread
    {
        sb.set(new StringBuilder());
    }

    private void doStuff()
    {
        sb.get().append("stuff"); // uses each thread's own exclusive StringBuilder instance
    }

    public String toString()
    {
        return sb.get().toString(); // the current thread's constructed String
    }

}
</code></pre>
 <p>
 The striking feature about this class is that only those procedures are synchronized that modify the internal storage
 commonly used for all threads, while procedures that don't modify shared structures (like <a href="#get()"><code>get()</code></a> or
 <a href="#set(E)"><code>set(E)</code></a> to modify an existing association) are explicitly NOT synchronized, yet still thread-safe due to
 exploiting special characteristics of <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true" title="class or interface in java.lang" class="externalLink"><code>Thread</code></a> identities that avoid concurrency issues (simple example:
 by using the <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true" title="class or interface in java.lang" class="externalLink"><code>Thread</code></a> instance itself as the hash key for associations, each thread can only find its own
 association and never reach the others).<br>
 This makes this class dramatically more runtime efficient than the (with all due respect, "clumsy")
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/ThreadLocal.html?is-external=true" title="class or interface in java.lang" class="externalLink"><code>ThreadLocal</code></a> implementation (that even unnecessarily bloats <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true" title="class or interface in java.lang" class="externalLink"><code>Thread</code></a> instances themselves,
 but that can't be fixed here).
 <p>
 See <a href="ThreadedInstantiating.html" title="class in one.microstream.concurrency"><code>ThreadedInstantiating</code></a> for an extended implementation that automatically utilizes an
 <a href="../functional/Instantiator.html" title="interface in one.microstream.functional"><code>Instantiator</code></a> instance to create to be associated instances for threads that dont' have an association, yet.</div>
</section>
<section class="summary">
<ul class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li class="blockList">
<section class="constructorSummary"><a id="constructor.summary">
<!--   -->
</a>
<h2>Constructor Summary</h2>
<div class="memberSummary">
<table>
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<thead>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E()">Threaded</a></span>()</code></th>
<td class="colLast">
<div class="block">Instantiates a new empty <a href="Threaded.html" title="class in one.microstream.concurrency"><code>Threaded</code></a> instance with default (quite small) storage size.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(int)">Threaded</a></span>&#8203;(int&nbsp;initialCapacity)</code></th>
<td class="colLast">
<div class="block">Instantiates a new empty <a href="Threaded.html" title="class in one.microstream.concurrency"><code>Threaded</code></a> instance with a storage size of at least the passed value.</div>
</td>
</tr>
</tbody>
</table>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li class="blockList">
<section class="methodSummary"><a id="method.summary">
<!--   -->
</a>
<h2>Method Summary</h2>
<div class="memberSummary">
<div role="tablist" aria-orientation="horizontal"><button role="tab" aria-selected="true" aria-controls="memberSummary_tabpanel" tabindex="0" onkeydown="switchTab(event)" id="t0" class="activeTableTab">All Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t1" class="tableTab" onclick="show(1);">Static Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t2" class="tableTab" onclick="show(2);">Instance Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t4" class="tableTab" onclick="show(8);">Concrete Methods</button></div>
<div id="memberSummary_tabpanel" role="tabpanel">
<table aria-labelledby="t0">
<thead>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor" id="i0">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#addForCurrentThread(E)">addForCurrentThread</a></span>&#8203;(<a href="Threaded.html" title="type parameter in Threaded">E</a>&nbsp;element)</code></th>
<td class="colLast">
<div class="block">Adds a new entry associating the passed instance of type E with the current <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true" title="class or interface in java.lang" class="externalLink"><code>Thread</code></a>.</div>
</td>
</tr>
<tr class="rowColor" id="i1">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#consolidate()">consolidate</a></span>()</code></th>
<td class="colLast">
<div class="block">Consolidates the internal storage of this <a href="Threaded.html" title="class in one.microstream.concurrency"><code>Threaded</code></a> instance (i.e.</div>
</td>
</tr>
<tr class="altColor" id="i2">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#containsSearched(java.util.function.Predicate)">containsSearched</a></span>&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/function/Predicate.html?is-external=true" title="class or interface in java.util.function" class="externalLink">Predicate</a>&lt;? super <a href="Threaded.html" title="type parameter in Threaded">E</a>&gt;&nbsp;predicate)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor" id="i3">
<td class="colFirst"><code><a href="Threaded.html" title="type parameter in Threaded">E</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#get()">get</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the instance of type E associated with the current <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true" title="class or interface in java.lang" class="externalLink"><code>Thread</code></a>.</div>
</td>
</tr>
<tr class="altColor" id="i4">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/function/Consumer.html?is-external=true" title="class or interface in java.util.function" class="externalLink">Consumer</a>&lt;<a href="Threaded.html" title="type parameter in Threaded">E</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getCleanUpOperation()">getCleanUpOperation</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor" id="i5">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isEmpty()">isEmpty</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns <code>true</code> if this <a href="Threaded.html" title="class in one.microstream.concurrency"><code>Threaded</code></a> instance contains no entries for associating instances
 of type E, otherwise <tt>false</tt>.</div>
</td>
</tr>
<tr class="altColor" id="i6">
<td class="colFirst"><code>protected <a href="Threaded.html" title="type parameter in Threaded">E</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#lookupMissFallbackElement()">lookupMissFallbackElement</a></span>()</code></th>
<td class="colLast">
<div class="block">This method is called if the lookup in <a href="#get()"><code>get()</code></a> didn't find an entry for the current <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true" title="class or interface in java.lang" class="externalLink"><code>Thread</code></a> to
 provide a fallback reference to be returned by <a href="#get()"><code>get()</code></a>.</div>
</td>
</tr>
<tr class="rowColor" id="i7">
<td class="colFirst"><code>static &lt;E&gt;&nbsp;<a href="Threaded.html" title="class in one.microstream.concurrency">Threaded</a>&lt;E&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#New()">New</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor" id="i8">
<td class="colFirst"><code>static &lt;E&gt;&nbsp;<a href="Threaded.html" title="class in one.microstream.concurrency">Threaded</a>&lt;E&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#New(E)">New</a></span>&#8203;(E&nbsp;currentThreadsElement)</code></th>
<td class="colLast">
<div class="block">Creates a new <a href="Threaded.html" title="class in one.microstream.concurrency"><code>Threaded</code></a> instance and associates the passed instance of type E with the current
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true" title="class or interface in java.lang" class="externalLink"><code>Thread</code></a>.</div>
</td>
</tr>
<tr class="rowColor" id="i9">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#optimize()">optimize</a></span>()</code></th>
<td class="colLast">
<div class="block">Optimizes the interal storage of this <a href="Threaded.html" title="class in one.microstream.concurrency"><code>Threaded</code></a> instance by removing all entries that no longer
 reference an existing thread, determining the new required storage size afterwards and rebuilding the storage
 if necessary.</div>
</td>
</tr>
<tr class="altColor" id="i10">
<td class="colFirst"><code><a href="Threaded.html" title="type parameter in Threaded">E</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#remove()">remove</a></span>()</code></th>
<td class="colLast">
<div class="block">Removes the association for the current <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true" title="class or interface in java.lang" class="externalLink"><code>Thread</code></a>, releasing and returning the reference to the instance
 of type E so far associated with with it.</div>
</td>
</tr>
<tr class="rowColor" id="i11">
<td class="colFirst"><code><a href="Threaded.html" title="type parameter in Threaded">E</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#set(E)">set</a></span>&#8203;(<a href="Threaded.html" title="type parameter in Threaded">E</a>&nbsp;element)</code></th>
<td class="colLast">
<div class="block">Associates the passed instance of type E with the current <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true" title="class or interface in java.lang" class="externalLink"><code>Thread</code></a> and returns the instance of type E
 that has been associated with the current <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true" title="class or interface in java.lang" class="externalLink"><code>Thread</code></a> so far, or <code>null</code> if nothign has been
 associated with the current <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true" title="class or interface in java.lang" class="externalLink"><code>Thread</code></a>, yet.</div>
</td>
</tr>
<tr class="altColor" id="i12">
<td class="colFirst"><code><a href="Threaded.html" title="class in one.microstream.concurrency">Threaded</a>&lt;<a href="Threaded.html" title="type parameter in Threaded">E</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setCleanUpOperation(java.util.function.Consumer)">setCleanUpOperation</a></span>&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/function/Consumer.html?is-external=true" title="class or interface in java.util.function" class="externalLink">Consumer</a>&lt;<a href="Threaded.html" title="type parameter in Threaded">E</a>&gt;&nbsp;cleanUpOperation)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor" id="i13">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#size()">size</a></span>()</code></th>
<td class="colLast">
<div class="block">The amount of associations contained in this <a href="Threaded.html" title="class in one.microstream.concurrency"><code>Threaded</code></a> instance.</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="inheritedList">
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></h3>
<a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang" class="externalLink">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang" class="externalLink">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang" class="externalLink">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang" class="externalLink">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang" class="externalLink">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang" class="externalLink">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang" class="externalLink">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang" class="externalLink">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait(long,int)" title="class or interface in java.lang" class="externalLink">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li class="blockList">
<section class="constructorDetails"><a id="constructor.detail">
<!--   -->
</a>
<h2>Constructor Details</h2>
<ul class="blockList">
<li class="blockList">
<section class="detail">
<h3><a id="&lt;init&gt;()">Threaded</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="memberName">Threaded</span>()</div>
<div class="block">Instantiates a new empty <a href="Threaded.html" title="class in one.microstream.concurrency"><code>Threaded</code></a> instance with default (quite small) storage size.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#%3Cinit%3E(int)"><code>Threaded(int)</code></a></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="&lt;init&gt;(int)">Threaded</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="memberName">Threaded</span>&#8203;(<span class="arguments">int&nbsp;initialCapacity)</span></div>
<div class="block">Instantiates a new empty <a href="Threaded.html" title="class in one.microstream.concurrency"><code>Threaded</code></a> instance with a storage size of at least the passed value.
 <p>
 The created instance is guaranteed to be able to store an amount of associations equal to the passed
 value before a storage rebuild occurs.
 <p>
 Note that the internal storage size can drop below the passed value (to the same size used by
 <a href="#%3Cinit%3E()"><code>Threaded()</code></a>) if at some point the optimizing algorithm detects that a smaller storage size will
 suffice. This is guaranteed not to happen before the storage size allocated depending on the passed value had to
 be increased at least once (i.e. the initial capacity remains guaranteed for the initial life time of the created
 instance).</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>initialCapacity</code> - the minimal storage size the <a href="Threaded.html" title="class in one.microstream.concurrency"><code>Threaded</code></a> instance gets allocated with.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#%3Cinit%3E()"><code>Threaded()</code></a>, 
<a href="#optimize()"><code>optimize()</code></a></dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li class="blockList">
<section class="methodDetails"><a id="method.detail">
<!--   -->
</a>
<h2>Method Details</h2>
<ul class="blockList">
<li class="blockList">
<section class="detail">
<h3><a id="New()">New</a></h3>
<div class="memberSignature"><span class="modifiers">public static final</span>&nbsp;<span class="typeParameters">&lt;E&gt;</span>&nbsp;<span class="returnType"><a href="Threaded.html" title="class in one.microstream.concurrency">Threaded</a>&lt;E&gt;</span>&nbsp;<span class="memberName">New</span>()</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="New(java.lang.Object)">
<!--   -->
</a><a id="New(E)">New</a></h3>
<div class="memberSignature"><span class="modifiers">public static final</span>&nbsp;<span class="typeParameters">&lt;E&gt;</span>&nbsp;<span class="returnType"><a href="Threaded.html" title="class in one.microstream.concurrency">Threaded</a>&lt;E&gt;</span>&nbsp;<span class="memberName">New</span>&#8203;(<span class="arguments">E&nbsp;currentThreadsElement)</span></div>
<div class="block">Creates a new <a href="Threaded.html" title="class in one.microstream.concurrency"><code>Threaded</code></a> instance and associates the passed instance of type E with the current
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true" title="class or interface in java.lang" class="externalLink"><code>Thread</code></a>.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>E</code> - the element type of the instances handled by the to be created <a href="Threaded.html" title="class in one.microstream.concurrency"><code>Threaded</code></a> instance.</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>currentThreadsElement</code> - the instance of type E to be associated with the current <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true" title="class or interface in java.lang" class="externalLink"><code>Thread</code></a>.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a newly created <a href="Threaded.html" title="class in one.microstream.concurrency"><code>Threaded</code></a> instance associating the passed element instance with the current
         <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true" title="class or interface in java.lang" class="externalLink"><code>Thread</code></a>.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#%3Cinit%3E()"><code>Threaded()</code></a>, 
<a href="ThreadedInstantiating.html#threaded(one.microstream.functional.Instantiator)"><code>ThreadedInstantiating.threaded(Instantiator)</code></a></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getCleanUpOperation()">getCleanUpOperation</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType"><a href="https://docs.oracle.com/javase/8/docs/api/java/util/function/Consumer.html?is-external=true" title="class or interface in java.util.function" class="externalLink">Consumer</a>&lt;<a href="Threaded.html" title="type parameter in Threaded">E</a>&gt;</span>&nbsp;<span class="memberName">getCleanUpOperation</span>()</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="setCleanUpOperation(java.util.function.Consumer)">setCleanUpOperation</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType"><a href="Threaded.html" title="class in one.microstream.concurrency">Threaded</a>&lt;<a href="Threaded.html" title="type parameter in Threaded">E</a>&gt;</span>&nbsp;<span class="memberName">setCleanUpOperation</span>&#8203;(<span class="arguments"><a href="https://docs.oracle.com/javase/8/docs/api/java/util/function/Consumer.html?is-external=true" title="class or interface in java.util.function" class="externalLink">Consumer</a>&lt;<a href="Threaded.html" title="type parameter in Threaded">E</a>&gt;&nbsp;cleanUpOperation)</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="get()">get</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType"><a href="Threaded.html" title="type parameter in Threaded">E</a></span>&nbsp;<span class="memberName">get</span>()</div>
<div class="block">Returns the instance of type E associated with the current <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true" title="class or interface in java.lang" class="externalLink"><code>Thread</code></a>.
 <p>
 If no instance is associated for the current <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true" title="class or interface in java.lang" class="externalLink"><code>Thread</code></a> yet, a fallback reference of type E is returned,
 which is <code>null</code> in the default implementation, indicating that no associated instance could have been
 found.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../reference/Referencing.html#get()">get</a></code>&nbsp;in interface&nbsp;<code><a href="../reference/Referencing.html" title="interface in one.microstream.reference">Referencing</a>&lt;<a href="Threaded.html" title="type parameter in Threaded">E</a>&gt;</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the instance of type E associated with the current <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true" title="class or interface in java.lang" class="externalLink"><code>Thread</code></a>.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#set(E)"><code>set(E)</code></a>, 
<a href="#remove()"><code>remove()</code></a></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="set(java.lang.Object)">
<!--   -->
</a><a id="set(E)">set</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType"><a href="Threaded.html" title="type parameter in Threaded">E</a></span>&nbsp;<span class="memberName">set</span>&#8203;(<span class="arguments"><a href="Threaded.html" title="type parameter in Threaded">E</a>&nbsp;element)</span></div>
<div class="block">Associates the passed instance of type E with the current <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true" title="class or interface in java.lang" class="externalLink"><code>Thread</code></a> and returns the instance of type E
 that has been associated with the current <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true" title="class or interface in java.lang" class="externalLink"><code>Thread</code></a> so far, or <code>null</code> if nothign has been
 associated with the current <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true" title="class or interface in java.lang" class="externalLink"><code>Thread</code></a>, yet.
 <p>
 Note that repeated calls to this method for the same <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true" title="class or interface in java.lang" class="externalLink"><code>Thread</code></a> will be significantly faster and
 wont block other threads as the existance of a thread-exclusive entry to be updated with the passed element is
 already guaranteed by the first call.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>element</code> - the instance of type E that shall be associated with the current <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true" title="class or interface in java.lang" class="externalLink"><code>Thread</code></a>.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the instance of type E that has been associated with the current <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true" title="class or interface in java.lang" class="externalLink"><code>Thread</code></a> so far.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#get()"><code>get()</code></a>, 
<a href="#remove()"><code>remove()</code></a></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="remove()">remove</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType"><a href="Threaded.html" title="type parameter in Threaded">E</a></span>&nbsp;<span class="memberName">remove</span>()</div>
<div class="block">Removes the association for the current <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true" title="class or interface in java.lang" class="externalLink"><code>Thread</code></a>, releasing and returning the reference to the instance
 of type E so far associated with with it.
 <p>
 Note that repeated calls to this method for the same <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true" title="class or interface in java.lang" class="externalLink"><code>Thread</code></a> will be significantly faster and
 wont block other threads as the removal of the thread-exclusive entry is already guaranteed by the first call.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the instance of type E so far associated with the current <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true" title="class or interface in java.lang" class="externalLink"><code>Thread</code></a>.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#get()"><code>get()</code></a>, 
<a href="#set(E)"><code>set(E)</code></a></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="lookupMissFallbackElement()">lookupMissFallbackElement</a></h3>
<div class="memberSignature"><span class="modifiers">protected</span>&nbsp;<span class="returnType"><a href="Threaded.html" title="type parameter in Threaded">E</a></span>&nbsp;<span class="memberName">lookupMissFallbackElement</span>()</div>
<div class="block">This method is called if the lookup in <a href="#get()"><code>get()</code></a> didn't find an entry for the current <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true" title="class or interface in java.lang" class="externalLink"><code>Thread</code></a> to
 provide a fallback reference to be returned by <a href="#get()"><code>get()</code></a>.
 <p>
 By default, this method simply returns <code>null</code>, indicating that no associated instance could have been
 found.<br>
 Subclasses can override this method to provide an actual fallback instance in case of a lookup miss.<br>
 In combination with <code>#addForCurrentThread(E)</code>, this method can be used to automatically associate the
 fallback instance with the current <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true" title="class or interface in java.lang" class="externalLink"><code>Thread</code></a> in case it has no instance associated, yet.
 <p>
 See <a href="ThreadedInstantiating.html" title="class in one.microstream.concurrency"><code>ThreadedInstantiating</code></a> for an example using an <a href="../functional/Instantiator.html" title="interface in one.microstream.functional"><code>Instantiator</code></a> to automatically create
 a missing instance by using a wrapped <a href="../functional/Instantiator.html" title="interface in one.microstream.functional"><code>Instantiator</code></a> instance.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>null</code>.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#get()"><code>get()</code></a></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="addForCurrentThread(java.lang.Object)">
<!--   -->
</a><a id="addForCurrentThread(E)">addForCurrentThread</a></h3>
<div class="memberSignature"><span class="modifiers">protected</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">addForCurrentThread</span>&#8203;(<span class="arguments"><a href="Threaded.html" title="type parameter in Threaded">E</a>&nbsp;element)</span></div>
<div class="block">Adds a new entry associating the passed instance of type E with the current <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true" title="class or interface in java.lang" class="externalLink"><code>Thread</code></a>.
 <p>
 This method is only to be called from a context where it has been already determined that this
 <a href="Threaded.html" title="class in one.microstream.concurrency"><code>Threaded</code></a> instance does not contain a corresponding entry, yet. See <a href="#get()"><code>get()</code></a> and
 <a href="#set(E)"><code>set(Object)</code></a> for examples.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>element</code> - the instance of type E to be associated with the current <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true" title="class or interface in java.lang" class="externalLink"><code>Thread</code></a> in a new entry.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="optimize()">optimize</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">long</span>&nbsp;<span class="memberName">optimize</span>()</div>
<div class="block">Optimizes the interal storage of this <a href="Threaded.html" title="class in one.microstream.concurrency"><code>Threaded</code></a> instance by removing all entries that no longer
 reference an existing thread, determining the new required storage size afterwards and rebuilding the storage
 if necessary.
 <p>
 Note that determining dead entries takes a certain amount of time, so repeated calls of this method
 each cost a certain amount of time, also much lower than an actual rebuild takes.
 <p>
 The method <a href="#set(E)"><code>set(Object)</code></a> automatically causes optimisation if it becomes necessary to enlarge the
 internal storage. This also leads to automatically shrinking the internal storage if possible.
 That is if the analysis of internal storage space prior to enlarging it discards enough empty entries so that
 a smaller internal storage suffices.<br>
 As a consequence, this method has hardly to be called at all. The only situation where explicit calls
 of this method are needed is if the <a href="Threaded.html" title="class in one.microstream.concurrency"><code>Threaded</code></a> instance maintains many (potentially obsolote)
 associations but no further <a href="#set(E)"><code>set(Object)</code></a> procedure is performed that would eventually shrink the
 storage automatically.
 <p>
 This method returns the amount of associations (threads) that can be added before the internal storage
 has to be optimized again, as defined by <a href="../collections/interfaces/OptimizableCollection.html#optimize()"><code>OptimizableCollection.optimize()</code></a>.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../collections/interfaces/OptimizableCollection.html#optimize()">optimize</a></code>&nbsp;in interface&nbsp;<code><a href="../collections/interfaces/OptimizableCollection.html" title="interface in one.microstream.collections.interfaces">OptimizableCollection</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>amount of associations (threads) that can be added before the internal storage has to be optimized again.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#consolidate()"><code>consolidate()</code></a></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="consolidate()">consolidate</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">long</span>&nbsp;<span class="memberName">consolidate</span>()</div>
<div class="block">Consolidates the internal storage of this <a href="Threaded.html" title="class in one.microstream.concurrency"><code>Threaded</code></a> instance (i.e. removes all entries that no longer
 reference an existing <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true" title="class or interface in java.lang" class="externalLink"><code>Thread</code></a>) by optimizing the internal storage.
 <p>
 See <a href="#optimize()"><code>optimize()</code></a> for further details.
 <p>
 In contrast to <a href="#optimize()"><code>optimize()</code></a>, this method returns the number of empty entries discarded in the process.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../collections/interfaces/ConsolidatableCollection.html#consolidate()">consolidate</a></code>&nbsp;in interface&nbsp;<code><a href="../collections/interfaces/ConsolidatableCollection.html" title="interface in one.microstream.collections.interfaces">ConsolidatableCollection</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the number of empty entries that have been removed in the process.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#optimize()"><code>optimize()</code></a></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="isEmpty()">isEmpty</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">boolean</span>&nbsp;<span class="memberName">isEmpty</span>()</div>
<div class="block">Returns <code>true</code> if this <a href="Threaded.html" title="class in one.microstream.concurrency"><code>Threaded</code></a> instance contains no entries for associating instances
 of type E, otherwise <tt>false</tt>.
 <p>
 Note that empty entries (entries that no longer reference an existing thread) do still count as contained
 entries. As a consequence, in order to determine if <a href="Threaded.html" title="class in one.microstream.concurrency"><code>Threaded</code></a> instance is actually empty regarding
 still valid entries, <a href="#consolidate()"><code>consolidate()</code></a> should be called immediately prior to calling this method.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../collections/interfaces/Sized.html#isEmpty()">isEmpty</a></code>&nbsp;in interface&nbsp;<code><a href="../collections/interfaces/Sized.html" title="interface in one.microstream.collections.interfaces">Sized</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if this <a href="Threaded.html" title="class in one.microstream.concurrency"><code>Threaded</code></a> instance contains no associations.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#size()"><code>size()</code></a>, 
<a href="#consolidate()"><code>consolidate()</code></a></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="size()">size</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">long</span>&nbsp;<span class="memberName">size</span>()</div>
<div class="block">The amount of associations contained in this <a href="Threaded.html" title="class in one.microstream.concurrency"><code>Threaded</code></a> instance.
 <p>
 Note that empty entries (entries that no longer reference an existing thread) do still count as contained
 entries. As a consequence, in order to determine the actual amount of valid entries, <a href="#consolidate()"><code>consolidate()</code></a>
 should be called immediately prior to calling this method.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../collections/interfaces/Sized.html#size()">size</a></code>&nbsp;in interface&nbsp;<code><a href="../collections/interfaces/Sized.html" title="interface in one.microstream.collections.interfaces">Sized</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the amount of associations contained in this <a href="Threaded.html" title="class in one.microstream.concurrency"><code>Threaded</code></a> instance.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#isEmpty()"><code>isEmpty()</code></a>, 
<a href="#consolidate()"><code>consolidate()</code></a></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="containsSearched(java.util.function.Predicate)">containsSearched</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">boolean</span>&nbsp;<span class="memberName">containsSearched</span>&#8203;(<span class="arguments"><a href="https://docs.oracle.com/javase/8/docs/api/java/util/function/Predicate.html?is-external=true" title="class or interface in java.util.function" class="externalLink">Predicate</a>&lt;? super <a href="Threaded.html" title="type parameter in Threaded">E</a>&gt;&nbsp;predicate)</span></div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
</div>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Threaded.html">Use</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &#169; 2021 <a href="https://microstream.one">MicroStream Software</a>. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
